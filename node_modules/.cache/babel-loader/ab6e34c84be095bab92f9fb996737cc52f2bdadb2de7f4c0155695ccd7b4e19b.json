{"ast":null,"code":"var _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/ReactJS/The_Rainbow_Print/src/components/auth/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { userContext } from \"../contexts\";\nimport { NavLink } from \"react-router-dom\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signin = () => {\n  _s();\n  const [validation, setValidation] = useState({});\n  const [errorMessage, setErrorMessage] = useState(false);\n  let navigate = useNavigate();\n  const {\n    setUser\n  } = useContext(userContext);\n  const [loading, setLoading] = useState(false);\n  const [input, setInput] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const handleChange = e => {\n    setInput({\n      ...input,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  //*** additional async only for validation\n  const submitForm = async e => {\n    e.preventDefault();\n    //   const sendData = {\n    //     email:user.email,\n    //     password:user.password\n    // }\n\n    // ** start if condtion for form validation\n    if (await validateForm()) {\n      // ** end validation\n      setLoading(true);\n\n      //  console.log(sendData)\n\n      axios.post(\"http://192.168.40.137/ReactJS/The_Rainbow_Print/public/backend/php/login.php\", input).then(result => {\n        setLoading(false);\n        if (result.data.Status === \"200\") {\n          // window.localStorage.setItem('email', result.data.email);\n          console.log(result);\n          setUser(result.data);\n          navigate(`/profile`);\n        } else {\n          // alert('Invalid User');\n          setErrorMessage(true);\n        }\n      });\n    }\n  };\n\n  // ** start if condtion for form validation\n  const validateForm = async () => {\n    const {\n      email,\n      password\n    } = input;\n    setValidation({});\n    let messages = {};\n    if (!/^\\w+([.-]?\\w+)@\\w+([.-]?\\w+)(\\.\\w{2,3})+$/.test(email)) {\n      messages.email = \"please enter valid email\";\n    }\n    if (!password) {\n      messages.password = \"please enter corract password\";\n    }\n    setValidation(messages);\n    return !Object.keys(messages).length;\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-heading\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-6 m-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: submitForm,\n            children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"email\",\n                  class: \"form-control\",\n                  placeholder: \"Enter email\",\n                  onChange: handleChange,\n                  value: input.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"error-message\",\n                  children: validation.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  name: \"password\",\n                  class: \"form-control\",\n                  placeholder: \"Create password\",\n                  onChange: handleChange,\n                  value: input.password\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"error-message\",\n                  children: validation.password\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-block\",\n                children: errorMessage ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"error-message text-center\",\n                  children: \"Please enter correct username or password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 21\n                }, this) : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                value: \"login\",\n                class: \"btn btn-primary\",\n                children: [\" \", loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    class: \"spinner-border\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 23\n                  }, this), \" Submit\"]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: \"Submit\"\n                }, void 0, false)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Not Registered? \", /*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/register\",\n                children: \"Register Here \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 54\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 35\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Signin, \"XJ6cHwyuOuedHCTRi76wh5IQrR8=\", false, function () {\n  return [useNavigate];\n});\n_c = Signin;\nexport default Signin;\nvar _c;\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"names":["React","useContext","useState","axios","useNavigate","userContext","NavLink","Signin","validation","setValidation","errorMessage","setErrorMessage","navigate","setUser","loading","setLoading","input","setInput","email","password","handleChange","e","target","name","value","submitForm","preventDefault","validateForm","post","then","result","data","Status","console","log","messages","test","Object","keys","length"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/ReactJS/The_Rainbow_Print/src/components/auth/Login.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { userContext } from \"../contexts\";\nimport { NavLink } from \"react-router-dom\";\n\n\n\nconst Signin = () => {\n  const [validation, setValidation] = useState({});\n  const [errorMessage, setErrorMessage] = useState(false);\n\n  let navigate = useNavigate();\n  const { setUser } = useContext(userContext);\n  const [loading, setLoading] = useState(false);\n\n  const [input, setInput] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const handleChange = (e) => {\n    setInput({ ...input, [e.target.name]: e.target.value });\n  };\n\n  //*** additional async only for validation\n  const submitForm = async (e) => {\n    e.preventDefault();\n    //   const sendData = {\n    //     email:user.email,\n    //     password:user.password\n    // }\n\n    // ** start if condtion for form validation\n    if (await validateForm()) {\n      // ** end validation\n      setLoading(true);\n\n      //  console.log(sendData)\n\n      axios\n        .post(\n          \"http://192.168.40.137/ReactJS/The_Rainbow_Print/public/backend/php/login.php\",\n          input\n        )\n        .then((result) => {\n          setLoading(false);\n          if (result.data.Status === \"200\") {\n            // window.localStorage.setItem('email', result.data.email);\n            console.log(result);\n            setUser(result.data);\n            navigate(`/profile`);\n          } else {\n            // alert('Invalid User');\n            setErrorMessage(true);\n          }\n        });\n    }\n  };\n\n  // ** start if condtion for form validation\n  const validateForm = async () => {\n    const { email, password } = input;\n\n    setValidation({});\n    let messages = {};\n\n    if (!/^\\w+([.-]?\\w+)@\\w+([.-]?\\w+)(\\.\\w{2,3})+$/.test(email)) {\n      messages.email = \"please enter valid email\";\n    }\n\n    if (!password) {\n      messages.password = \"please enter corract password\";\n    }\n\n    setValidation(messages);\n    return !Object.keys(messages).length;\n  };\n\n  return (\n    <>\n     <div className=\"page-heading\">\n    <h1>Login</h1>\n    </div>\n      <section className=\"text-center\">\n        <div className=\"container\">\n          <div className=\"col-sm-6 m-auto\">\n            <form onSubmit={submitForm}>\n              <fieldset>\n                <div class=\"mb-3\">\n                  <input\n                    type=\"text\"\n                    name=\"email\"\n                    class=\"form-control\"\n                    placeholder=\"Enter email\"\n                    onChange={handleChange}\n                    value={input.email}\n                  />\n                  <span className=\"error-message\">{validation.email}</span>\n                </div>\n\n                <div class=\"mb-3\">\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    class=\"form-control\"\n                    placeholder=\"Create password\"\n                    onChange={handleChange}\n                    value={input.password}\n                  />\n                  <span className=\"error-message\">{validation.password}</span>\n                </div>\n                <div className=\"d-block\">\n                  {errorMessage ? (\n                    <p className=\"error-message text-center\">\n                      Please enter correct username or password\n                    </p>\n                  ) : (\n                    \"\"\n                  )}\n                </div>\n\n                <button type=\"submit\" value=\"login\" class=\"btn btn-primary\">\n                  {\" \"}\n                  {loading ? (\n                    <>\n                      {\" \"}\n                      <span class=\"spinner-border\"></span> Submit\n                    </>\n                  ) : (\n                    <>Submit</>\n                  )}\n                </button>\n              </fieldset>\n            </form>\n\n            <div className=\"mt-4\"><p>Not Registered? <NavLink to=\"/register\">Register Here </NavLink></p> </div>\n\n          \n          </div>\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default Signin;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}